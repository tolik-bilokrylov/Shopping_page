{"version":3,"sources":["Item/Item.styles.ts","Item/Item.tsx","CartItem/CartItem.styles.ts","CartItem/CartItem.tsx","Cart/Cart.styles.ts","Cart/Cart.tsx","App.styles.ts","App.tsx","index.tsx"],"names":["Wrapper","styled","div","Item","item","handleAddToCart","className","src","image","alt","title","description","price","Button","onClick","CartItem","addToCart","removeFromCart","amount","toFixed","size","disableElevation","variant","id","aside","Cart","items","cartItems","length","map","reduce","ack","StyledButton","IconButton","getProducts","a","fetch","json","App","useState","cartOpen","setCartOpen","setCartItems","useQuery","data","isLoading","error","clickedItem","prev","find","LinearProgress","Drawer","anchor","open","onClose","Badge","badgeContent","color","Grid","container","spacing","xs","sm","client","QueryClient","ReactDOM","render","QueryClientProvider","document","getElementById"],"mappings":"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","file":"static/js/main.f1540193.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid lightblue;\n  border-radius: 20px;\n  height: 100%;\n  \n  button {\n    border-radius: 0 0 20px 20px;\n  }\n\n  .item__img {\n    max-height: 500px;\n    object-fit:  cover;\n    border-radius:  20px 20px 0 0;\n  }\n\n  .item__text {\n    font-family: Arial, Helvetica, sans-serif;\n    padding: 1rem;\n    height: 100%;\n  }\n`;\n","import Button from '@material-ui/core/Button';\n//Types\nimport { CartItemType } from '../App';\n//Styles\nimport { Wrapper } from './Item.styles';\n\ntype Props = {\n  item: CartItemType;\n  handleAddToCart: (clickedItem: CartItemType) => void;\n}\n\nconst Item: React.FC<Props> = ({ item, handleAddToCart }) => (\n  <Wrapper>\n    <img className=\"item__img\" src={item.image} alt={item.title} />\n    <div className=\"item__text\">\n      <h3 className=\"item__title\">{item.title}</h3>\n      <p className=\"item__discription\">{item.description}</p>\n      <h3 className=\"item__priceg\">${item.price}</h3>\n    </div>\n    <Button onClick={() => handleAddToCart(item)}>Add to catr</Button>\n  </Wrapper>\n)\n\nexport default Item;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-family: Arial, Helvetica, sans-serif;\n  border-bottom: 1px solid lightblue;\n  padding-bottom: 20px;\n\n  .cartitem {\n    flex: 1;\n  }\n\n  .cartitem__information,\n  .cartitem__buttons {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .cartitem__img {\n    max-width: 80px;\n    object-fit: cover;\n    margin-left: 40px;\n  }\n`;","import Button from '@material-ui/core/Button';\n//Types\nimport { CartItemType } from '../App';\n//Styles\nimport { Wrapper } from './CartItem.styles';\n\ntype Props = {\n  item: CartItemType;\n  addToCart: (clickedItem: CartItemType) => void;\n  removeFromCart: (id: number) => void;\n}\n\nconst CartItem: React.FC<Props> = ({ item, addToCart, removeFromCart }) => (\n  <Wrapper>\n    <div className=\"cartitem\">\n      <h3 className=\"cartitem__title\">{item.title}</h3>\n      <div className=\"cartitem__information\">\n        <p className=\"cartitem__cost\">Price: ${item.price}</p>\n        <p className=\"cartitem__cost\">Total: ${(item.amount * item.price).toFixed(2)}</p>\n      </div>\n      <div className=\"cartitem__buttons\">\n        <Button\n          size=\"small\"\n          disableElevation\n          variant=\"contained\"\n          onClick={() => removeFromCart(item.id)}\n        >\n          -\n        </Button>\n        <p className=\"cartitem__cost\">{item.amount}</p>\n        <Button\n          size=\"small\"\n          disableElevation\n          variant=\"contained\"\n          onClick={() => addToCart(item)}\n        >\n          +\n        </Button>\n      </div>\n    </div>\n    <img className=\"cartitem__img\" src={item.image} alt={item.title} />\n  </Wrapper>\n);\n\nexport default CartItem;","import styled from \"styled-components\";\n\nexport const Wrapper = styled.aside`\n  font-family: Arial, Helvetica, sans-serif;\n  width: 500px;\n  padding: 20px;\n`;","import CartItem from \"../CartItem/CartItem\";\n//Styles\nimport { Wrapper } from \"./Cart.styles\";\n//Types\nimport { CartItemType } from \"../App\";\n\ntype Props = {\n  cartItems: CartItemType[];\n  addToCart: (clickedItem: CartItemType) => void;\n  removeFromCart: (id: number) => void;\n};\n\nconst Cart: React.FC<Props> = ({ cartItems, addToCart, removeFromCart }) => {\n  const calculateTotal = (items: CartItemType[]) =>\n    items.reduce((ack: number, item) => ack + item.amount * item.price, 0)\n\n  return (\n    <Wrapper>\n      <h2 className=\"cart__title\">Your Shopping Cart</h2>\n      {cartItems.length === 0 ? <p>No items in cart.</p> : null}\n      {cartItems.map(item => (\n        <CartItem\n          key={item.id}\n          item={item}\n          addToCart={addToCart}\n          removeFromCart={removeFromCart}\n        />\n      ))}\n      <h2 className=\"cart__title-total\">Total: ${calculateTotal(cartItems).toFixed(2)}</h2>\n    </Wrapper>\n  );\n};\n\nexport default Cart;\n","import styled from 'styled-components';\nimport IconButton from '@material-ui/core/IconButton';\n\nexport const Wrapper = styled.div`\nmargin: 40px;\n`;\n\nexport const StyledButton = styled(IconButton)`\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  top: 20px;\n`;","import { useState } from 'react';\nimport { useQuery } from 'react-query';\n//Components\nimport Item from './Item/Item';\nimport Cart from './Cart/Cart';\nimport Drawer from '@material-ui/core/Drawer';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Grid from '@material-ui/core/Grid';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport Badge from '@material-ui/core/Badge';\n//Styles\nimport { Wrapper, StyledButton } from './App.styles';\n//Types\nexport type CartItemType = {\n  id: number;\n  category: string;\n  description: string;\n  image: string;\n  price: number;\n  title: string;\n  amount: number;\n}\n\n\nconst getProducts = async (): Promise<CartItemType[]> =>\n  await (await fetch('https://fakestoreapi.com/products')).json();\n\nconst App = () => {\n  const [cartOpen, setCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([] as CartItemType[]);\n  const { data, isLoading, error } = useQuery<CartItemType[]>(\n    'products',\n    getProducts\n  );\n\n  const getTotalItems = (items: CartItemType[]) =>\n    items.reduce((ack: number, item) => ack + item.amount, 0);\n\n\n  const handleAddToCart = (clickedItem: CartItemType) => {\n    setCartItems(prev => {\n      //1. Is the item already added in the cart?\n      const isItemInCart = prev.find(item => item.id === clickedItem.id)\n\n      if (isItemInCart) {\n        return prev.map(item =>\n          item.id === clickedItem.id\n            ? { ...item, amount: item.amount + 1 }\n            : item\n        );\n      }\n      //First time the item is added\n      return [...prev, { ...clickedItem, amount: 1 }];\n    });\n  };\n\n  const handleRemoveFromCart = (id: number) => {\n    setCartItems(\n      prev => (\n        prev.reduce((ack, item) => {\n          if (item.id === id) {\n            if (item.amount === 1) return ack;\n            return [...ack, { ...item, amount: item.amount - 1 }];\n          } else {\n            return [...ack, item];\n          }\n        }, [] as CartItemType[])\n      )\n    );\n  };\n\n  if (isLoading) return <LinearProgress />;\n  if (error) return <div>Something went wrong...</div>\n\n\n  return (\n    <Wrapper>\n      <Drawer anchor='right' open={cartOpen} onClose={() => setCartOpen(false)}>\n        <Cart\n          cartItems={cartItems}\n          addToCart={handleAddToCart}\n          removeFromCart={handleRemoveFromCart}\n        />\n      </Drawer>\n      <StyledButton onClick={() => setCartOpen(true)}>\n        <Badge badgeContent={getTotalItems(cartItems)} color='error'>\n          <AddShoppingCartIcon />\n        </Badge>\n      </StyledButton>\n      <Grid container spacing={3}>\n        {data?.map(item => (\n          <Grid item key={item.id} xs={12} sm={4}>\n            <Item item={item} handleAddToCart={handleAddToCart} />\n          </Grid>\n        ))}\n      </Grid>\n    </Wrapper >\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst client = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={client}>\n    <App />\n  </QueryClientProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}